webpackJsonp([1],{"01+k":function(t,e){},"0Te2":function(t,e){},"7zck":function(t,e){},C1Ri:function(t,e){},GYqU:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{id:"app"}},[e("v-content",[e("router-view")],1)],1)},staticRenderFns:[]};var o=s("VU/8")({name:"App"},a,!1,function(t){s("txv3")},null,null).exports,i=s("/ocq"),r=s("Dd8w"),c=s.n(r),l=s("NYxO");n.a.use(l.a);var u=new l.a.Store({state:{apt:{aptTime:"",aptDuration:60,aptName:"",aptEmail:"",aptSlot:"",confirmation:""},slots:[]},getters:{shareApt:function(t){return t.apt}},mutations:{getSlots:function(t,e){t.slots=e},getAptTime:function(t,e){t.apt.aptTime=e},getAptName:function(t,e){t.apt.aptName=e},getAptEmail:function(t,e){t.apt.aptEmail=e},getAptSlot:function(t,e){t.apt.aptSlot=e},getConfirmation:function(t,e){t.apt.confirmation=e}}}),m=s("mtWM"),d=s.n(m).a.create({baseURL:"https://mybookingappback.herokuapp.com"});var f=s("PJh5"),p=s.n(f),v=(s("tzHd"),s("JV9Q"),{name:"calendar",data:function(){return{hours:["10:00","11:00","12:00","13:00","14:00","15:00"],hour:"",day:"",beginDisplay:0,aptMoment:"",aptSlot:"",visible:!1,button:"",buttonList:[],filteredButtonList:[],disabled:"",activeColor:""}},computed:{getCurrentDay:function(){return p()()},getDaysRange:function(){var t=p()(this.getCurrentDay).add(1,"days"),e=this.getCurrentDayPlus2month(p()(t));return this.getDaysOfTheTimeRange(t,e)},endDisplay:function(){return this.beginDisplay+3},dayRangeToDisplay:function(){return this.getDaysRange.slice(this.beginDisplay,this.endDisplay)},getSlotsFromStore:function(){return this.$store.state.slots},btnIdToDisplay:function(){return this.filterButtonIdToDisplay(this.dayRangeToDisplay,this.buttonList)}},created:function(){var t=this;d.get("/").then(function(e){console.log("res from get calendar:",e),t.$store.commit("getSlots",e.data.content),t.createButtonId(t.getDaysRange),t.updateButtonId(t.getSlotsFromStore,t.buttonList)}).catch(function(t){console.log("err:",t)})},methods:{getCurrentDayPlus2month:function(t){return p()(t).add(2,"month")},getDaysOfTheTimeRange:function(t,e){return p()(t).twix(e).toArray("days")},getNextDays:function(){this.beginDisplay>=0&&(this.beginDisplay+=3,this.filteredButtonList=[])},getPreviousDays:function(){this.beginDisplay>=3&&(this.beginDisplay-=3,this.filteredButtonList=[])},buttonIsInDay:function(t,e){if(p()(t).format("YYYY-MM-DD").toString()==e.id.slice(0,10))return!0},updateVisible:function(){0==this.visible&&(this.visible=!this.visible)},createButtonId:function(t){this.buttonList=[];for(var e=/:/,s=0;s<t.length;s++)for(var n=0;n<this.hours.length;n++){var a={id:(p()(t[s]).format("YYYY-MM-DD").toString()+"-"+this.hours[n]+"-N").replace(e,"-"),class:"N",disabled:!0};this.buttonList.push(a)}return this.buttonList},updateButtonId:function(t,e){for(var s=0;s<t.length;s++)for(var n=0;n<e.length;n++){p()(t[s].start).format("YYYY-MM-DD-HH-mm").toString()==e[n].id.slice(0,16)&&("available"===t[s].status&&(e[n].id=e[n].id.slice(0,16)+"-A",e[n].class="A",e[n].disabled=!1),"booked"===t[s].status&&(e[n].id=e[n].id.slice(0,16)+"-B",e[n].class="B",e[n].disabled=!0))}return this.buttonList},filterButtonIdToDisplay:function(t,e){for(var s=0;s<t.length;s++){var n;n=p()(t[s]).format("YYYY-MM-DD").toString();for(var a=0;a<e.length;a++){n==e[a].id.slice(0,10)&&this.filteredButtonList.push(e[a])}}return this.filteredButtonList},selectTime:function(t,e){this.updateVisible(),this.aptMoment=p()(t.id.slice(0,16).toString(),"YYYY-MM-DD-HH-mm"),this.$store.commit("getAptTime",this.aptMoment),this.getMatchingSlot(this.getSlotsFromStore),this.$store.commit("getAptSlot",this.aptSlot)},getMatchingSlot:function(t){for(var e=0;e<t.length;e++){var s=p()(t[e].start);p()(s).isSame(this.aptMoment)&&(this.aptSlot=t[e])}return this.aptSlot}},filters:{dateFormatDayName:function(t){return p()(t).format("dddd")},dateFormatDayNumberAndMonth:function(t){return p()(t).format("D MMM")},dateFormatFullDayHour:function(t){return p()(t).format("LLLL")},displayButtonId:function(t){return t=(t=t.slice(11,16)).replace(/-/,":")}}}),h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"card__body",attrs:{fluid:"","grid-list":""}},[s("v-layout",{staticClass:"card__body__calendar",attrs:{fluid:"",row:"",wrap:"",center:""}},[s("v-flex",{staticClass:"a"},[s("v-btn",{staticClass:"card__body__calendar__navicon",attrs:{icon:""},on:{click:function(e){t.getPreviousDays()}}},[s("v-icon",[t._v("navigate_before")])],1)],1),t._v(" "),s("v-flex",{staticClass:"b"},[s("v-container",{attrs:{fluid:"","grid-list":""}},[s("v-layout",{attrs:{row:"","justify-center":"",wrap:""}},t._l(t.dayRangeToDisplay,function(e,n){return s("v-flex",{key:n,staticClass:"card__body__calendar__Days",attrs:{xs12:"",sm12:"",md4:"",lg4:"",xl4:""}},[s("li",{staticClass:"card__body__calendar__headDayLi"},[t._v(t._s(t._f("dateFormatDayName")(e)))]),t._v(" "),s("li",{staticClass:"card__body__calendar__headDayLi"},[t._v(t._s(t._f("dateFormatDayNumberAndMonth")(e)))]),t._v(" "),t._l(t.btnIdToDisplay,function(n,a){return t.buttonIsInDay(e,n)?s("ul",{key:a,staticClass:"card__body__calendar__bodyUl"},[s("li",{staticClass:"card__body__calendar__bodyLi"},[s("v-btn",{key:a,staticClass:"card__body__calendar__btn",attrs:{small:"",outline:"",color:"primary",disabled:n.disabled,button:n},on:{click:function(e){t.selectTime(n,t.getSlotsFromStore)}}},[t._v(t._s(t._f("displayButtonId")(n.id))+"\n\t\t\t\t\t\t\t\t")])],1)]):t._e()})],2)}))],1)],1),t._v(" "),s("v-flex",{staticClass:"c"},[s("v-btn",{staticClass:"card__body__calendar__navicon",attrs:{icon:""},on:{click:function(e){t.getNextDays()}}},[s("v-icon",[t._v("navigate_next")])],1)],1),t._v(" "),t.visible?s("v-layout",{staticClass:"sumup",attrs:{fluid:"",row:"",wrap:"","justify-center":""}},[s("h3",[t._v("Votre sélection: ")]),t._v(" "),s("h3",[t._v(" "+t._s(t._f("dateFormatFullDayHour")(t.aptMoment))+"H")])]):t._e()],1)],1)},staticRenderFns:[]};var j=s("VU/8")(v,h,!1,function(t){s("01+k")},"data-v-995046bc",null).exports,g={name:"authentication",data:function(){return{}},computed:{name:{get:function(){return this.$store.state.apt.aptName},set:function(t){console.log("value name:",t),t&&this.$store.commit("getAptName",t)}},email:{get:function(){return this.$store.state.apt.aptEmail},set:function(t){console.log("value email:",t),t&&this.$store.commit("getAptEmail",t)}},aptTime:{get:function(){return this.$store.state.apt.aptTime}}},filters:{dateFormatFullDayHour:function(t){return p()(t).format("LLLL")}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:""}},[s("v-content",[t._v(t._s(t._f("dateFormatFullDayHour")(t.aptTime))+"H")]),t._v(" "),s("v-form",[s("v-text-field",{attrs:{label:"Nom"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),s("v-text-field",{attrs:{label:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)},staticRenderFns:[]};var b=s("VU/8")(g,_,!1,function(t){s("0Te2")},null,null).exports,y={name:"confirmation",data:function(){return{msg:""}},computed:c()({},Object(l.b)(["shareApt"]))},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v(this._s(this.shareApt.confirmation))])])},staticRenderFns:[]};var k={name:"home",components:{calendar:j,authentication:b,confirmation:s("VU/8")(y,D,!1,function(t){s("C1Ri")},null,null).exports},data:function(){return{e6:1}},computed:c()({},Object(l.b)(["shareApt"])),methods:{OkToNextStep:function(t){this.e6=t},goBackToFirstStep:function(){this.e6=1},reset:function(){},bookApt:function(t){var e=this;console.log("this.shareApt:",this.shareApt),d.post("/",this.shareApt).then(function(t){console.log("res from POST aptDetails: ",t),e.$store.commit("getConfirmation",t.data.message)}).catch(function(t){console.log(t.response),e.$store.commit("getConfirmation",t.response)})}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"home",attrs:{fluid:""}},[s("v-stepper",{attrs:{vertical:""},model:{value:t.e6,callback:function(e){t.e6=e},expression:"e6"}},[s("v-stepper-step",{attrs:{complete:t.e6>1,step:"1"}},[t._v("\n      Date du Rendez-vous\n      "),s("small",[t._v("Sélectionnez une date et une heure parmi les choix disponibles")])]),t._v(" "),s("v-stepper-content",{attrs:{step:"1"}},[s("calendar"),t._v(" "),s("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){t.OkToNextStep(2)}}},[t._v("Suivant")]),t._v(" "),s("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){t.reset()}}},[t._v("Annuler")])],1),t._v(" "),s("v-stepper-step",{attrs:{complete:t.e6>2,step:"2"}},[t._v("\n      Vos coordonnées\n      "),s("small",[t._v("Merci de renseigner vos coordonnées pour la confirmation du rendez-vous")])]),t._v(" "),s("v-stepper-content",{attrs:{step:"2"}},[s("authentication"),t._v(" "),s("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.bookApt(t.shareApt)}},nativeOn:{click:function(e){t.OkToNextStep(3)}}},[t._v("Suivant")]),t._v(" "),s("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){t.goBackToFirstStep()}}},[t._v("Annuler")])],1),t._v(" "),s("v-stepper-step",{attrs:{complete:t.e6>3,step:"3"}},[t._v("\n     Confirmation\n     "),s("small")]),t._v(" "),s("v-stepper-content",{attrs:{step:"3"}},[s("confirmation"),t._v(" "),s("v-btn",{attrs:{color:"primary",to:{name:"bye"}}},[t._v("Suivant")])],1)],1)],1)},staticRenderFns:[]};var F=s("VU/8")(k,x,!1,function(t){s("Qgxk")},"data-v-2379e814",null).exports,S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"hello",attrs:{fluid:""}},[s("v-layout",{staticClass:"text",attrs:{column:"",wrap:"","justify-center":""}},[s("v-flex",{staticClass:"msg"},[s("h1",[t._v(t._s(t.msg))])]),t._v(" "),s("v-flex",{staticClass:"msga"},[s("h1",[t._v(t._s(t.msga))])])],1),t._v(" "),s("v-btn",{attrs:{outline:"",color:"white",to:{name:"home"}}},[t._v("Commencer")])],1)},staticRenderFns:[]};var z=s("VU/8")({name:"landing",components:{},data:function(){return{msg:"Prenons",msga:"rendez-vous !"}},methods:{}},S,!1,function(t){s("QZbG")},"data-v-2122d03c",null).exports,C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"hello",attrs:{fluid:""}},[s("v-layout",{staticClass:"text",attrs:{column:"",wrap:"","justify-center":""}},[s("v-flex",{staticClass:"msg"},[s("h1",[t._v(t._s(t.msg))])]),t._v(" "),s("v-flex",{staticClass:"msga"},[s("h1",[t._v(t._s(t.msga))])])],1),t._v(" "),s("v-btn",{attrs:{outline:"",color:"white",to:{name:"home"}}},[t._v("prendre un autre rendez-vous")])],1)},staticRenderFns:[]};var w=s("VU/8")({name:"bye",components:{},data:function(){return{msg:"Merci",msga:"A bientôt !"}},methods:{}},C,!1,function(t){s("i3Ah")},"data-v-58eea521",null).exports;n.a.use(i.a);var T=new i.a({routes:[{path:"/",name:"landing",component:z},{path:"/home",name:"home",component:F},{path:"/bye",name:"bye",component:w}]}),A=s("oYt9"),L=s("3EgV"),M=s.n(L);s("7zck"),s("gJtD"),s("hvFc");n.a.use(A.a),n.a.use(M.a,{theme:{primary:"#673ab7",secondary:"#f8f8ff",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}),n.a.config.productionTip=!1,new n.a({el:"#app",router:T,store:u,components:{App:o},template:"<App/>"})},QZbG:function(t,e){},Qgxk:function(t,e){},gJtD:function(t,e){},hvFc:function(t,e){},i3Ah:function(t,e){},txv3:function(t,e){},uslO:function(t,e,s){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(t){return s(o(t))}function o(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(n)},a.resolve=o,t.exports=a,a.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.89c0f6d877f80e8608b2.js.map